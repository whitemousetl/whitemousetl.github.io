1、MySQL体系结构
![image](https://github.com/whitemousetl/whitemousetl.github.io/assets/67313669/91dba447-1b5a-4679-aae9-2967b5cf5dc5)

- 连接层：接受客户端的连接等
- 服务层：SQL接口、解析器等绝大部分核心功能
- 引擎层：index索引是在存储引擎层实现的
- 存储层：数据最终是存储在磁盘当中的


2、存储引擎简介

- 存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式。存储引擎是基于表的，而不是基于库的，所以存储引擎也可以被称为表类型。

- 在创建表时，指定存储引擎

```
create table 表名(
    字段1 字段1类型 [comment '字段1注释'],
    字段2 字段2类型 [comment '字段2注释'],
    ...
    字段n 字段n类型 [comment '字段n注释']
) engine = innodb [comment '表注释'];
```


- 查看当前数据库支持的存储引擎
show engines;

3、存储引擎特点
```
InnoDB
介绍：
InnoDB是一种兼顾高可靠性和高性能的通用存储引擎，在MySQL5.5之后，InnoDB是默认的MySQL存储引擎。

特点：
1、DML操作遵循ACID模型（事务的四大特性），支持事务。
2、行级锁，提高并发访问性能。
3、支持外键foreign key约束，保证数据的完整性和正确性。
事务、外键、行级锁

文件：
xxx.ibd:xxx代表的是表名，innodb引擎的每张表都会对应这样的一个表空间文件，存储该表的表结构（frm、sdi）、数据和索引。
参数：innodb_file_per_table
```
![image](https://github.com/whitemousetl/whitemousetl.github.io/assets/67313669/a8861423-78e2-4d86-903d-6c96e79d641f)

```
MyISAM
介绍：
MyISAM是MySQL早期的默认存储引擎

特点：
不支持事务，不支持外键
支持表锁，不支持行锁
访问速度快

文件：
.MYD  存储数据
.MYI    存储索引
.sdi      存储表结构信息
```

```
Memory
介绍：
Memory引擎的表数据是存储在内存中的，由于收到硬件问题、或断电问题的影响，只能将这些表作为临时表或缓存表使用

特点：
内存存放（速度快）
hash索引（默认）

文件：
.sdi 存储表结构信息
```

![image](https://github.com/whitemousetl/whitemousetl.github.io/assets/67313669/3d007cc5-05d4-40ae-92c1-99e8ff305405)

4、存储引擎选择
- 在选择存储引擎时，应该根据应用系统的特点选择合适的存储引擎。对于复杂的应用系统，还可以根据实际情况选择多种存储引擎进行组合。
- InnoDB：MySQL的默认存储引擎，支持事务、外键和行级锁，如果应用对事务的完整性有比较高的要求，在并发条件下要求数据的一致性，数据操作除了插入和查询外，还包含很多的更新、删除操作，那么InnoDB是比较适合的选择。
- MyISAM：如果应用是以读操作和插入操作为主，只有很少的更新和删除操作，并且对事务的完整性、并发性要求不是很高，那么选择这个存储引擎是非常合适的。
- Memory：将所有数据保存在内存中，访问速度快，通常用于临时表及缓存。Memory的缺陷就是对表的大小有限制，太大的表无法存储在内存中，而且无法保障数据的安全性。